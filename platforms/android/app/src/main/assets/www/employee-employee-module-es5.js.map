{"version":3,"sources":["webpack:///src/app/folder/employee/addavailability/addavailability.component.html","webpack:///src/app/folder/employee/availability/availability.component.html","webpack:///src/app/folder/employee/addavailability/addavailability.component.scss","webpack:///src/app/folder/employee/addavailability/addavailability.component.ts","webpack:///src/app/folder/employee/availability/availability.component.scss","webpack:///src/app/folder/employee/availability/availability.component.ts","webpack:///src/app/folder/employee/emp.service.ts","webpack:///src/app/folder/employee/employee-routing.module.ts","webpack:///src/app/folder/employee/employee.module.ts"],"names":["AddavailabilityComponent","router","emp","nodat","loc","userId","window","localStorage","getItem","emprecnum","siteId","customers","category","skills","navigateByUrl","getCustomer","subscribe","res","customersList","totalCount","length","showSpinner","customer_recnum","getCustLocation","locationList","getCustSkills","skillsList","getCategories","categoryList","payload","userID","empid","clientid","link2category","category_type","skillsetid","cust_skill","clientlocationid","cust_locn","fromdate","frm_dt","todate","to_dt","strtTime","start_time","endTime","end_time","status","siteid","console","log","addAvailabilty","error","errTitle","errMsg","selector","template","AvailabilityComponent","route","alertCtrl","translate","locale","events","eventSource","dbEventSource","allocationSource","unavailabilitySource","availability","consecutiveDay","allocationStatus","remSelectedDt","remBackendSelDt","remFrmSrcArr","calendar","mode","currentDate","Date","event","title","desc","startTime","allDay","locStorageLang","undefined","lang","setDefaultLang","use","date","firstDay","getFullYear","getMonth","format","lastDay","getEmpAvail","getAllocations","get","value","availabilityTitle","unavailableOn","makeAvlbl","NALbl","enterTime","cancelLbl","okLbl","fromLbl","toLbl","NAmsg","confirmLbl","consecutiveMsg","makeUnavlbl","cannotMakeUnavlbl","allocatedTask","allocationsList","len","i","push","scheduleid","reqid","shift","taskid","taskrecnum","taskstatus","taskstage","getEmpAvailability","unavailabilityList","leaveid","myCal","loadEvents","err","slideNext","slidePrev","viewTitle","ev","selectedTime","dt","toISOString","endDt","nwdt","setDate","getDate","todt","dt_str","toDateString","currDt","newDt","selDt","removed","splice","d","m","y","fullDt","create","header","subHeader","message","buttons","text","role","handler","data","updateAvailabilty","alert","present","schedules","deAllocateEmp","currentdt","start","end","EmpService","http","storage","urlPHP","map","Response","handleErrors","post","providedIn","routes","path","component","EmployeeRoutingModule","imports","forChild","exports","createTranslateLoader","EmployeeModule","declarations","forRoot","loader","provide","useFactory","deps","providers"],"mappings":"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","file":"employee-employee-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar  class=\\\"toolBar\\\">\\r\\n      <ion-buttons slot=\\\"start\\\" class=\\\"btnHome\\\">\\r\\n         <ion-button class=\\\"btnHome\\\" (click)=\\\"goBack()\\\">\\r\\n            <i class=\\\"fas fa-arrow-left\\\"></i> &nbsp;\\r\\n          </ion-button>\\r\\n      </ion-buttons>\\r\\n    <ion-title>Add Availability</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" class=\\\"fntcolor\\\">Customer</ion-label>\\r\\n    <ion-select [(ngModel)]=\\\"customer_recnum\\\" (ngModelChange)=\\\"location(customer_recnum)\\\">\\r\\n      <ion-select-option *ngFor=\\\"let cust of customersList\\\" value=\\\"{{cust.recnum}}\\\">{{cust.name}}</ion-select-option>\\r\\n    </ion-select>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" class=\\\"fntcolor\\\">Category</ion-label>\\r\\n    <ion-select [(ngModel)]=\\\"category_type\\\">\\r\\n      <ion-select-option *ngFor=\\\"let category of categoryList\\\" value=\\\"{{category.recnum}}\\\">{{category.type}} ({{category.category_name}})</ion-select-option>\\r\\n    </ion-select>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" class=\\\"fntcolor\\\">Skill</ion-label>\\r\\n    <ion-select [(ngModel)]=\\\"cust_skill\\\">\\r\\n      <ion-select-option *ngFor=\\\"let skill of skillsList\\\" value=\\\"{{skill.id}}\\\">{{skill.name}}</ion-select-option>\\r\\n    </ion-select>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item *ngIf=\\\"loc\\\">\\r\\n    <ion-label position=\\\"floating\\\" class=\\\"fntcolor\\\">Location</ion-label>\\r\\n    <ion-select [(ngModel)]=\\\"cust_locn\\\">\\r\\n      <ion-select-option *ngFor=\\\"let loc of locationList\\\" value=\\\"{{loc.id}}\\\">{{loc.name}}</ion-select-option>\\r\\n    </ion-select>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" class=\\\"fntcolor\\\">From</ion-label>\\r\\n    <ion-datetime displayFormat=\\\"MM/DD/YYYY\\\" [(ngModel)]=\\\"frm_dt\\\" name=\\\"frm_dt\\\" required></ion-datetime>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" class=\\\"fntcolor\\\">To</ion-label>\\r\\n    <ion-datetime displayFormat=\\\"MM/DD/YYYY\\\" [(ngModel)]=\\\"to_dt\\\" name=\\\"to_dt\\\" required></ion-datetime>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" class=\\\"fntcolor\\\">Start Time</ion-label>\\r\\n    <ion-datetime display-format=\\\"HH:mm A\\\" picker-format=\\\"h:mm A\\\" [(ngModel)]=\\\"start_time\\\"  name=\\\"start_time\\\" required></ion-datetime>\\r\\n  </ion-item>\\r\\n  \\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" class=\\\"fntcolor\\\">End Time</ion-label>\\r\\n    <ion-datetime display-format=\\\"HH:mm A\\\" picker-format=\\\"h:mm A\\\" [(ngModel)]=\\\"end_time\\\"  name=\\\"end_time\\\" required></ion-datetime>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" class=\\\"fntcolor\\\">Status</ion-label>\\r\\n    <ion-select [(ngModel)]=\\\"status\\\">\\r\\n      <ion-select-option value=\\\"Available\\\">Available</ion-select-option>\\r\\n      <ion-select-option value=\\\"Unavailable\\\">Unavailable</ion-select-option>\\r\\n    </ion-select>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-button expand=\\\"block\\\" color=\\\"primary\\\" (click)=\\\"addAvaialability()\\\">Submit</ion-button>\\r\\n</ion-content>\";","export default \"<ion-header>\\r\\n  <ion-toolbar class=\\\"toolBar\\\">\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n          <ion-buttons slot=\\\"start\\\">\\r\\n              <ion-menu-button></ion-menu-button>\\r\\n          </ion-buttons>\\r\\n      </ion-buttons>\\r\\n    <ion-title>{{'Availability'|translate}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n    <ion-row>\\r\\n      <!-- Move back one screen of the slides -->\\r\\n      <ion-col size=\\\"2\\\">\\r\\n        <ion-button fill=\\\"clear\\\" size=\\\"small\\\" (click)=\\\"back()\\\" class=\\\"iconBtn\\\">\\r\\n          <ion-icon name=\\\"chevron-back-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n   \\r\\n      <ion-col size=\\\"8\\\" class=\\\"ion-text-center\\\">\\r\\n        <h2 class=\\\"pos\\\">{{ viewTitle }}</h2>\\r\\n      </ion-col>\\r\\n   \\r\\n      <!-- Move forward one screen of the slides -->\\r\\n      <ion-col size=\\\"2\\\">\\r\\n        <ion-button fill=\\\"clear\\\" size=\\\"small\\\" (click)=\\\"next()\\\" class=\\\"iconBtn\\\">\\r\\n          <ion-icon name=\\\"chevron-forward-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n    <calendar\\r\\n    [eventSource]=\\\"eventSource\\\"\\r\\n    [calendarMode]=\\\"calendar.mode\\\"\\r\\n    [currentDate]=\\\"calendar.currentDate\\\"\\r\\n    (onEventSelected)=\\\"onEventSelected($event)\\\"\\r\\n    (onTitleChanged)=\\\"onViewTitleChanged($event)\\\"\\r\\n    (onTimeSelected)=\\\"onTimeSelected($event)\\\"\\r\\n    (click)=\\\"addAvailability(calendar.currentDate)\\\"\\r\\n    id=\\\"cal\\\"\\r\\n    >\\r\\n    </calendar>\\r\\n    <br/>\\r\\n    <ion-button color=\\\"primary\\\" (click)=\\\"onSubmit()\\\" class=\\\"avlbl\\\">\\r\\n      {{'Add unavailable'|translate}}\\r\\n    </ion-button>\\r\\n</ion-content>\";","export default \".btnHome {\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9sZGVyL2VtcGxveWVlL2FkZGF2YWlsYWJpbGl0eS9DOlxcVXNlcnNcXG1hbnVtXFxEb3dubG9hZHNcXGZsdWVudGNlcFRNUy1tYXN0ZXJcXGZsdWVudGNlcFRNUy9zcmNcXGFwcFxcZm9sZGVyXFxlbXBsb3llZVxcYWRkYXZhaWxhYmlsaXR5XFxhZGRhdmFpbGFiaWxpdHkuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2ZvbGRlci9lbXBsb3llZS9hZGRhdmFpbGFiaWxpdHkvYWRkYXZhaWxhYmlsaXR5LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvZm9sZGVyL2VtcGxveWVlL2FkZGF2YWlsYWJpbGl0eS9hZGRhdmFpbGFiaWxpdHkuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnRuSG9tZXtcclxuICAgIGNvbG9yOndoaXRlO1xyXG4gIH0iLCIuYnRuSG9tZSB7XG4gIGNvbG9yOiB3aGl0ZTtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { EmpService } from '../emp.service';\r\n\r\n@Component({\r\n  selector: 'app-addavailability',\r\n  templateUrl: './addavailability.component.html',\r\n  styleUrls: ['./addavailability.component.scss'],\r\n})\r\nexport class AddavailabilityComponent implements OnInit {\r\n  userId:any;\r\n  emprecnum:any;\r\n\r\n  errMsg:any;\r\n  errTitle:any;\r\n  totalCount:any;\r\n  showSpinner:any;\r\n  nodat:any=false;\r\n  loc:boolean=false;\r\n\r\n  categoryList:any;\r\n  customersList:any;\r\n  locationList:any;\r\n  skillsList:any;\r\n\r\n  customer_recnum:any;\r\n  category_type:any;\r\n  cust_skill:any;\r\n  cust_locn:any;\r\n  frm_dt:any;\r\n  to_dt:any;\r\n  start_time:any;\r\n  end_time:any;\r\n  status:any;\r\n  siteId:any;\r\n\r\n\r\n  constructor(private router: Router, private emp: EmpService) { \r\n    this.userId=window.localStorage.getItem('userId');\r\n    this.emprecnum=window.localStorage.getItem('user2employee');\r\n    this.siteId=window.localStorage.getItem('siteId');\r\n\r\n    this.customers();\r\n    this.category();\r\n    this.skills();\r\n  }\r\n\r\n  ngOnInit() {}\r\n  goBack(){\r\n    this.router.navigateByUrl('/folder/emp');\r\n  }\r\n  \r\n  customers(){\r\n    this.emp.getCustomer().subscribe(res=>{\r\n      // console.log(res['data']);\r\n      this.customersList = res['data'];\r\n      this.totalCount = this.customersList.length;\r\n      this.showSpinner = false;\r\n\r\n      if(this.customersList.length == 0){\r\n        this.nodat=true;\r\n        this.showSpinner = false;\r\n      }\r\n    })\r\n  }\r\n\r\n  location(customer_recnum){\r\n    this.loc=true;\r\n    this.emp.getCustLocation(customer_recnum).subscribe(res=>{\r\n      // console.log(res['data']);\r\n      this.locationList = res['data'];\r\n      this.totalCount = this.locationList.length;\r\n      this.showSpinner = false;\r\n      \r\n      if(this.locationList.length == 0){\r\n        this.nodat=true;\r\n        this.showSpinner = false;\r\n      }\r\n    })\r\n  }\r\n\r\n  skills(){\r\n    this.emp.getCustSkills().subscribe(res=>{\r\n      // console.log(res['data']);\r\n      this.skillsList = res['data'];\r\n      this.totalCount = this.skillsList.length;\r\n      this.showSpinner = false;\r\n      \r\n      if(this.skillsList.length == 0){\r\n        this.nodat=true;\r\n        this.showSpinner = false;\r\n      }\r\n    })\r\n  }\r\n\r\n  category(){\r\n    this.emp.getCategories().subscribe(res=>{\r\n      // console.log(res['data']);\r\n      this.categoryList = res['data'];\r\n      this.totalCount = this.categoryList.length;\r\n      this.showSpinner = false;\r\n      \r\n      if(this.categoryList.length == 0){\r\n        this.nodat=true;\r\n        this.showSpinner = false;\r\n      }\r\n    })\r\n  }\r\n\r\n  addAvaialability(){\r\n    let payload = {\r\n      userID:this.userId,\r\n      empid:this.emprecnum,\r\n      clientid:this.customer_recnum,\r\n      link2category:this.category_type,\r\n      skillsetid:this.cust_skill,\r\n      clientlocationid:this.cust_locn,\r\n      fromdate:this.frm_dt,\r\n      todate:this.to_dt,\r\n      strtTime:this.start_time,\r\n      endTime:this.end_time,\r\n      status:this.status,\r\n      siteid:this.siteId\r\n    }\r\n    console.log(payload);\r\n    this.emp.addAvailabilty(payload).subscribe(res=>{\r\n      console.log(res['data']);\r\n    },\r\n    error => {\r\n      this.errTitle='Error!';\r\n      this.errMsg = (error);\r\n    });\r\n  }\r\n}\r\n","export default \".btnHome {\\n  color: white;\\n}\\n\\n.avlbl {\\n  float: right;\\n  margin-right: 1rem;\\n}\\n\\n.iconsize {\\n  text-align: center;\\n  font-size: 1.5rem;\\n  margin: auto;\\n}\\n\\n.pos {\\n  margin-top: 8px;\\n}\\n\\n.iconBtn {\\n  background-color: #eaf2fe;\\n}\\n\\n.algn {\\n  margin-left: 0.8rem;\\n}\\n\\n:host ::ng-deep .monthview-container {\\n  height: auto !important;\\n}\\n\\n:host ::ng-deep .event-detail-container {\\n  display: none;\\n}\\n\\n.avl {\\n  color: var(--ion-color-danger) !important;\\n  font-size: 0.5rem !important;\\n}\\n\\n:host ::ng-deep .monthview-primary-with-event {\\n  background-color: white !important;\\n  color: black !important;\\n}\\n\\n:host ::ng-deep .monthview-selected {\\n  background-color: var(--ion-color-success) !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9sZGVyL2VtcGxveWVlL2F2YWlsYWJpbGl0eS9DOlxcVXNlcnNcXG1hbnVtXFxEb3dubG9hZHNcXGZsdWVudGNlcFRNUy1tYXN0ZXJcXGZsdWVudGNlcFRNUy9zcmNcXGFwcFxcZm9sZGVyXFxlbXBsb3llZVxcYXZhaWxhYmlsaXR5XFxhdmFpbGFiaWxpdHkuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2ZvbGRlci9lbXBsb3llZS9hdmFpbGFiaWxpdHkvYXZhaWxhYmlsaXR5LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtBQ0NGOztBRENBO0VBQ0UsWUFBQTtFQUNBLGtCQUFBO0FDRUY7O0FEQUE7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtBQ0dKOztBRERBO0VBQ0ksZUFBQTtBQ0lKOztBREZBO0VBQ0UseUJBQUE7QUNLRjs7QURGQTtFQUNFLG1CQUFBO0FDS0Y7O0FERkk7RUFDTSx1QkFBQTtBQ0tWOztBREhNO0VBQ0ksYUFBQTtBQ0tWOztBRGFFO0VBQ0UseUNBQUE7RUFDQSw0QkFBQTtBQ1ZKOztBRGFJO0VBQ0Usa0NBQUE7RUFDQSx1QkFBQTtBQ1ZOOztBRGFJO0VBQ0UscURBQUE7QUNYTiIsImZpbGUiOiJzcmMvYXBwL2ZvbGRlci9lbXBsb3llZS9hdmFpbGFiaWxpdHkvYXZhaWxhYmlsaXR5LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJ0bkhvbWV7XHJcbiAgY29sb3I6d2hpdGU7XHJcbn1cclxuLmF2bGJsIHtcclxuICBmbG9hdDogcmlnaHQ7XHJcbiAgbWFyZ2luLXJpZ2h0OiAxcmVtO1xyXG59XHJcbi5pY29uc2l6ZXtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG59XHJcbi5wb3Mge1xyXG4gICAgbWFyZ2luLXRvcDogOHB4O1xyXG59XHJcbi5pY29uQnRue1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlYWYyZmU7XHJcbn1cclxuXHJcbi5hbGdue1xyXG4gIG1hcmdpbi1sZWZ0OjAuOHJlbTtcclxufVxyXG4gIDpob3N0IDo6bmctZGVlcCB7XHJcbiAgICAubW9udGh2aWV3LWNvbnRhaW5lciB7XHJcbiAgICAgICAgICBoZWlnaHQ6IGF1dG8gIWltcG9ydGFudDtcclxuICAgICAgfVxyXG4gICAgICAuZXZlbnQtZGV0YWlsLWNvbnRhaW5lciB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuLy8gSW5kaWNhdG9yIGZvciBldmVudHNcclxuXHJcbiAgLy8gLmluZGljYXRvci1jb250YWluZXIge1xyXG4gIC8vICAgcGFkZGluZy1sZWZ0OiAwLjVyZW07XHJcbiAgLy8gICBwYWRkaW5nLWJvdHRvbTogMC40cmVtO1xyXG4gIC8vIH1cclxuICAgXHJcbiAgLy8gLmV2ZW50LWluZGljYXRvciB7XHJcbiAgLy8gICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcclxuICAvLyAgIHdpZHRoOiA1cHg7XHJcbiAgLy8gICBoZWlnaHQ6IDVweDtcclxuICAvLyAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAvLyAgIGRpc3BsYXk6IHRhYmxlLWNlbGw7XHJcbiAgLy8gfVxyXG4gIC5hdmwge1xyXG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpICFpbXBvcnRhbnQ7XHJcbiAgICBmb250LXNpemU6IDAuNXJlbSAhaW1wb3J0YW50O1xyXG4gIH1cclxuICA6aG9zdCA6Om5nLWRlZXAge1xyXG4gICAgLm1vbnRodmlldy1wcmltYXJ5LXdpdGgtZXZlbnQge1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xyXG4gICAgICBjb2xvcjogYmxhY2sgIWltcG9ydGFudDtcclxuICAgIH1cclxuICAgXHJcbiAgICAubW9udGh2aWV3LXNlbGVjdGVkIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXN1Y2Nlc3MpICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcbiAgfVxyXG4gICBcclxuICAvLyAud2l0aC1ldmVudCB7XHJcbiAgLy8gICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcclxuICAvLyAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgLy8gfSIsIi5idG5Ib21lIHtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uYXZsYmwge1xuICBmbG9hdDogcmlnaHQ7XG4gIG1hcmdpbi1yaWdodDogMXJlbTtcbn1cblxuLmljb25zaXplIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDEuNXJlbTtcbiAgbWFyZ2luOiBhdXRvO1xufVxuXG4ucG9zIHtcbiAgbWFyZ2luLXRvcDogOHB4O1xufVxuXG4uaWNvbkJ0biB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlYWYyZmU7XG59XG5cbi5hbGduIHtcbiAgbWFyZ2luLWxlZnQ6IDAuOHJlbTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5tb250aHZpZXctY29udGFpbmVyIHtcbiAgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7XG59XG46aG9zdCA6Om5nLWRlZXAgLmV2ZW50LWRldGFpbC1jb250YWluZXIge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4uYXZsIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpICFpbXBvcnRhbnQ7XG4gIGZvbnQtc2l6ZTogMC41cmVtICFpbXBvcnRhbnQ7XG59XG5cbjpob3N0IDo6bmctZGVlcCAubW9udGh2aWV3LXByaW1hcnktd2l0aC1ldmVudCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiBibGFjayAhaW1wb3J0YW50O1xufVxuOmhvc3QgOjpuZy1kZWVwIC5tb250aHZpZXctc2VsZWN0ZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3Itc3VjY2VzcykgIWltcG9ydGFudDtcbn0iXX0= */\";","import { formatDate } from '@angular/common';\r\nimport { ConditionalExpr } from '@angular/compiler';\r\nimport { Component, Inject, LOCALE_ID, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { CalendarComponent } from 'ionic2-calendar';\r\nimport * as moment from 'moment';\r\nimport { EmpService } from '../emp.service';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-availability',\r\n  templateUrl: './availability.component.html',\r\n  styleUrls: ['./availability.component.scss'],\r\n})\r\nexport class AvailabilityComponent implements OnInit {\r\n\r\n  viewTitle: string;\r\n  selectedDate: Date;\r\n  firstDay: any;\r\n  lastDay: any;\r\n  userId:any;\r\n  emprecnum:any;\r\n\r\n  unavailabilityList:any;\r\n  allocationsList:any;\r\n  currDt:any;\r\n\r\n  events = [];\r\n  eventSource = [];\r\n\r\n  dbEventSource = [];\r\n  allocationSource=[];\r\n  \r\n  unavailabilitySource = [];\r\n\r\n  availability:boolean=false;\r\n  consecutiveDay:boolean=false;\r\n  allocationStatus:boolean=true;\r\n  remSelectedDt:boolean=false;\r\n  remBackendSelDt:boolean=false;\r\n  remFrmSrcArr:boolean=false;\r\n \r\n  calendar = {\r\n    mode: 'month',\r\n    currentDate: new Date(),\r\n  };\r\n\r\n  event = {\r\n    title: '',\r\n    desc: '',\r\n    startTime: null,\r\n    endTime: '',\r\n    allDay: true\r\n  };\r\n\r\n  // translated values\r\n  lang:any;\r\n  locStorageLang:any;\r\n  availabilityTitle:any;\r\n  unavailableOn:any;\r\n  cancelLbl:any;\r\n  confirmLbl:any;\r\n  enterTime:any;\r\n  makeAvlbl:any;\r\n  NALbl:any;\r\n  NAmsg:any;\r\n  okLbl:any;\r\n  fromLbl:any;\r\n  toLbl:any;\r\n  consecutiveMsg:any;\r\n  cannotMakeUnavlbl:any;\r\n  makeUnavlbl:any;\r\n  allocatedTask:any;\r\n  siteId:any;\r\n\r\n  @ViewChild(CalendarComponent) myCal: CalendarComponent;\r\n\r\n  constructor(private router: Router, \r\n              private route: ActivatedRoute,\r\n              private alertCtrl: AlertController,\r\n              private emp: EmpService,\r\n              public translate: TranslateService,\r\n              @Inject(LOCALE_ID) private locale: string,\r\n              ) { \r\n                this.locStorageLang=window.localStorage.getItem('lang');\r\n                if(this.locStorageLang == '' || this.locStorageLang == undefined || this.locStorageLang == null){\r\n                  this.lang = 'en';\r\n                  this.translate.setDefaultLang('en');\r\n                  this.translate.use('en');\r\n                }else{\r\n                  this.lang = this.locStorageLang;\r\n                  this.translate.use(this.lang);\r\n                }\r\n                this.userId=window.localStorage.getItem('userId');\r\n                this.emprecnum=window.localStorage.getItem('user2employee');\r\n                this.siteId=window.localStorage.getItem('siteId');\r\n              }\r\n\r\n  ngOnInit() {\r\n    this.unavailabilitySource=[];\r\n    let date = new Date(); \r\n    this.firstDay =  moment(new Date(date.getFullYear(), date.getMonth(), 1)).format('YYYY-MM-DD'); \r\n    this.lastDay = moment(new Date(date.getFullYear(), date.getMonth() + 1, 0)).format('YYYY-MM-DD');\r\n\r\n    this.getEmpAvail();\r\n    this.getAllocations();\r\n\r\n    // language\r\n    this.translate.get('Availability').subscribe(value => {\r\n    // value is our translated string\r\n    this.availabilityTitle = value;\r\n    });\r\n\r\n    this.translate.get('Unavailable on').subscribe(value => { this.unavailableOn = value; });\r\n    this.translate.get('Make available').subscribe(value => { this.makeAvlbl = value; });\r\n    this.translate.get('Not Allowed').subscribe(value => { this.NALbl = value; });\r\n    this.translate.get('Enter time').subscribe(value => { this.enterTime = value; });\r\n    this.translate.get('Cancel').subscribe(value => { this.cancelLbl = value; });\r\n    this.translate.get('Ok').subscribe(value => { this.okLbl = value; });\r\n    this.translate.get('From').subscribe(value => { this.fromLbl = value; });\r\n    this.translate.get('To').subscribe(value => { this.toLbl = value; });\r\n    this.translate.get('Greater than today').subscribe(value => { this.NAmsg = value; });\r\n    this.translate.get('Confirm').subscribe(value => { this.confirmLbl = value; });\r\n    this.translate.get('NALeave').subscribe(value => { this.consecutiveMsg = value; });\r\n    this.translate.get('Make unavailable').subscribe(value => { this.makeUnavlbl = value; });\r\n    this.translate.get('Cannot make Unavailable').subscribe(value => { this.cannotMakeUnavlbl = value; });\r\n    this.translate.get('Allocated task').subscribe(value => { this.allocatedTask = value; });\r\n  }\r\n\r\n  getAllocations(){\r\n    this.allocationSource=[];\r\n    this.emp.getAllocations().subscribe(res=>{\r\n      if(res['data']){\r\n        this.allocationsList=res['data']; \r\n        let len = res['data'].length;\r\n        for(let i=0; i<len; i++) {\r\n          this.allocationSource.push({\r\n            scheduleid: res['data'][i].scheduleid,\r\n            reqid:res['data'][i].reqid,\r\n            startTime: new Date(res['data'][i].date),\r\n            shift:res['data'][i].shift,\r\n            taskid:res['data'][i].taskrecnum,\r\n            taskstatus:res['data'][i].taskstatus,\r\n            taskstage:res['data'][i].taskstage,\r\n          });\r\n        }       \r\n      }\r\n    });\r\n  }\r\n\r\n  getEmpAvail() {\r\n    this.events=[];\r\n    this.emp.getEmpAvailability().subscribe(res=>{\r\n      if(res['data']){\r\n        this.unavailabilityList=res['data'];\r\n        let len = res['data'].length;\r\n        for(let i=0; i<len; i++){\r\n          if(res['data'][i].status == 3){\r\n            this.events.push({\r\n              title: res['data'][i].status,\r\n              startTime: new Date(res['data'][i].fromdate),\r\n              endTime: new Date(res['data'][i].todate),\r\n              allDay: true,\r\n              leaveid:res['data'][i].leaveid,\r\n              status:res['data'][i].status\r\n            });\r\n          }\r\n        }\r\n        this.eventSource = this.events;\r\n        this.dbEventSource = this.events;\r\n        this.myCal.loadEvents();\r\n      }\r\n    },err=>{\r\n      // console.log(err);\r\n    })\r\n  }\r\n  next() {\r\n    this.myCal.slideNext();\r\n    this.getEmpAvail();\r\n  }\r\n \r\n  back() {\r\n    this.myCal.slidePrev();\r\n    this.getEmpAvail();\r\n  }\r\n \r\n  // Selected date range and hence title changed\r\n  onViewTitleChanged(title) {\r\n    this.viewTitle = title;\r\n  }\r\n\r\n  async onTimeSelected(ev) {\r\n    this.event.startTime = new Date(ev.selectedTime);\r\n\r\n    let dt = this.event.startTime.toISOString();\r\n    let endDt = this.event.startTime;\r\n    endDt=new Date(endDt);\r\n    let nwdt = endDt.setDate(endDt.getDate());\r\n    let todt = new Date(nwdt).toISOString();\r\n    let dt_str = this.event.startTime.toDateString();\r\n    if(this.availability == true && this.event.startTime >= this.currDt){\r\n\r\n      // To remove from local array\r\n      if((this.availability == true)){\r\n        for(let i=0; i<this.unavailabilitySource.length; i++){\r\n          let newDt = this.unavailabilitySource[i].date.toDateString();\r\n          let selDt = this.event.startTime.toDateString();\r\n          if(newDt === selDt){\r\n            let removed = this.unavailabilitySource.splice(i, 1); \r\n            this.availability=false;\r\n            this.remSelectedDt=true;\r\n            this.remFrmSrcArr=true;      \r\n            this.myCal.loadEvents();\r\n          }\r\n        }\r\n      }\r\n      // End of local array removal\r\n\r\n      // To remove from main array\r\n      if(this.remFrmSrcArr){\r\n        // to remove from main src array which is for insert purpose\r\n        for(let i=0; i<this.eventSource.length; i++){\r\n          let newDt = this.eventSource[i].startTime.toDateString();\r\n          let selDt = this.event.startTime.toDateString();\r\n          if((newDt === selDt) && (this.eventSource[i].title==1)){\r\n            let removed = this.eventSource.splice(i, 1); \r\n            this.remSelectedDt=true;\r\n            this.remFrmSrcArr=true;            \r\n            this.myCal.loadEvents();\r\n          }\r\n        }\r\n      }\r\n      // End of main array\r\n\r\n      // To Remove Existing Unavailablity(In DB) and making Available  && (this.consecutiveDay==false)\r\n      if((this.availability==true) && (this.remSelectedDt==false)){\r\n        for(let i=0; i<this.dbEventSource.length; i++){\r\n          let newDt = this.dbEventSource[i].startTime.toDateString();\r\n          let selDt = this.event.startTime.toDateString();\r\n          if(newDt === selDt){\r\n            if((this.dbEventSource[i].status == 3)){\r\n              let d = this.dbEventSource[i].startTime.getDate();\r\n              let m = this.dbEventSource[i].startTime.getMonth() + 1;\r\n              let y = this.dbEventSource[i].startTime.getFullYear();\r\n              let fullDt = '' +(m<=9 ? '0' + m : m) + '-' + (d <= 9 ? '0' + d : d) + '-' + y;\r\n              let alert = await this.alertCtrl.create({\r\n                header: this.availabilityTitle,\r\n                subHeader:this.unavailableOn,\r\n                message: fullDt,\r\n                buttons:  [ {\r\n                              text: this.okLbl,\r\n                              role: 'cancel',\r\n                              handler: () => {\r\n                                // console.log('Cancelled');\r\n                              }\r\n                            },\r\n                            {\r\n                              text: this.makeAvlbl,\r\n                              handler: data => {\r\n                                this.emp.updateAvailabilty(this.dbEventSource[i].leaveid).subscribe(res=>{\r\n                                if(res['data'] == 'Success'){\r\n                                  this.getEmpAvail();\r\n                                }\r\n                                },err=>{\r\n                                  console.log(err)\r\n                                }); \r\n                                this.availability=false; \r\n                              }\r\n                            }\r\n                          ]\r\n              });\r\n              alert.present();\r\n            }\r\n          }\r\n        }\r\n      }\r\n      // End of Making Available\r\n      \r\n      // Check if any allocations are made && (this.consecutiveDay==false)\r\n      if(this.availability==true){\r\n        for(let i=0; i<this.allocationSource.length; i++){\r\n          let newDt = this.allocationSource[i].startTime.toDateString();\r\n          let selDt = this.event.startTime.toDateString();\r\n          if(newDt === selDt){\r\n            if(this.allocationSource[i].taskstage == 'Accepted'){\r\n              this.availability=false;\r\n              this.allocationStatus=true;\r\n              let alert = await this.alertCtrl.create({\r\n                header: this.NALbl,\r\n                message: this.cannotMakeUnavlbl,\r\n                buttons: [\r\n                  {\r\n                    text: this.okLbl,\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                      this.allocationStatus=true;\r\n                      this.unavailabilitySource.splice(this.unavailabilitySource.length, 1); \r\n                      this.eventSource.splice(this.eventSource.length, 1);\r\n                      this.myCal.loadEvents();\r\n                    }\r\n                  }\r\n                ]\r\n              });\r\n              alert.present();\r\n            }else{\r\n              let d = this.allocationSource[i].startTime.getDate();\r\n              let m = this.allocationSource[i].startTime.getMonth() + 1;\r\n              let y = this.allocationSource[i].startTime.getFullYear();\r\n              let fullDt = '' +(m<=9 ? '0' + m : m) + '-' + (d <= 9 ? '0' + d : d) + '-' + y;\r\n              let alert = await this.alertCtrl.create({\r\n                header: this.confirmLbl,\r\n                subHeader:this.allocatedTask,\r\n                message: fullDt,\r\n                buttons: [\r\n                  {\r\n                    text: this.cancelLbl,\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                      this.availability=false;\r\n                      this.allocationStatus=false;\r\n\r\n                      this.unavailabilitySource.splice(this.unavailabilitySource.length-1, 1); \r\n                      this.eventSource.splice(this.eventSource.length-1, 1);\r\n                      this.myCal.loadEvents();\r\n                    }\r\n                  },\r\n                  {\r\n                    text: this.confirmLbl,\r\n                    handler: data => {\r\n                      let schedules={\r\n                        userID:this.userId,\r\n                        scheduleid:this.allocationSource[i].scheduleid,\r\n                        reqid:this.allocationSource[i].reqid\r\n                      };\r\n                      this.emp.deAllocateEmp(schedules).subscribe(res=>{\r\n                        if(res['data'] == 'success'){\r\n                          this.availability=true;\r\n                          this.allocationStatus=true;\r\n                        }\r\n                      },err=>{\r\n                        // console.log(err)\r\n                      });  \r\n                    }\r\n                  }\r\n                ]\r\n              });\r\n              alert.present();\r\n            }\r\n          }else{\r\n            this.allocationStatus=true;\r\n          }\r\n        }\r\n      }\r\n      // end of Allocation check\r\n\r\n      // To push into the array for insertion purpose\r\n      if((this.availability == true) && (this.allocationStatus == true)){      \r\n        let dt = this.event.startTime.toISOString();\r\n        let endDt = this.event.startTime;\r\n            endDt=new Date(endDt);\r\n        let nwdt = endDt.setDate(endDt.getDate());\r\n        let todt = new Date(nwdt).toISOString();\r\n        let dt_str = this.event.startTime.toDateString(); \r\n\r\n          this.events.push({\r\n            title: 1,\r\n            startTime: new Date(this.event.startTime),\r\n            endTime: new Date(this.event.startTime),\r\n            allDay: true,\r\n            leaveid:null,\r\n            status:3\r\n          });\r\n  \r\n          let payload = {\r\n            userID:this.userId,\r\n            empid:this.emprecnum,\r\n            fromdate:dt,\r\n            todate:todt,\r\n            status:3,\r\n            date:this.event.startTime,\r\n            siteid:this.siteId\r\n          }\r\n          this.unavailabilitySource.push(payload);\r\n          this.eventSource = this.events;\r\n          this.availability=false;          \r\n          this.myCal.loadEvents();\r\n      }\r\n      // End of array push\r\n\r\n    }else{\r\n      if(this.availability == true) {\r\n        // if previous day selected\r\n        const alert = await this.alertCtrl.create({\r\n          header: this.NALbl,\r\n          message: this.NAmsg,\r\n          buttons: [this.okLbl],\r\n        });\r\n        alert.present();\r\n      }\r\n    }\r\n  }\r\n  \r\n  addAvailability(currentdt){\r\n    this.currDt=currentdt;\r\n    this.availability=true;\r\n    this.consecutiveDay=false;\r\n    this.allocationStatus=true;\r\n    this.remSelectedDt=false;\r\n    this.remBackendSelDt=false;\r\n    this.remFrmSrcArr=false;\r\n  }\r\n\r\n  onSubmit(){\r\n    for(let i=0; i<this.unavailabilitySource.length; i++){\r\n      this.emp.addAvailabilty(this.unavailabilitySource[i]).subscribe(res=>{\r\n        if(res['data'] == \"Success\"){\r\n          this.getEmpAvail();\r\n        }\r\n      },err=>{\r\n        console.log(err)\r\n      });\r\n    }\r\n    this.myCal.loadEvents();\r\n    this.unavailabilitySource=[];\r\n  }\r\n\r\n  // Calendar event was clicked\r\n  async onEventSelected(event) {\r\n    let start = formatDate(event.startTime, 'medium','en-US');\r\n    let end = formatDate(event.endTime, 'medium','en-US');\r\n \r\n    const alert = await this.alertCtrl.create({\r\n      header: event.title,\r\n      subHeader: event.desc,\r\n      message: this.fromLbl+': ' + start + '<br><br>'+this.toLbl+': ' + end,\r\n      buttons: [this.okLbl],\r\n    });\r\n    alert.present();\r\n  }\r\n}","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map'; \r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/observable/throw';\r\nimport 'rxjs/Observable';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EmpService {\r\n  userId:any;\r\n  emprecnum:any;\r\n\r\n  httpOptions: { headers: HttpHeaders; };\r\n\r\n   constructor(private http: HttpClient,\r\n    private storage: Storage,\r\n    ) {\r\n      this.userId=window.localStorage.getItem('userId');\r\n      this.emprecnum=window.localStorage.getItem('user2employee');\r\n  }\r\n  \r\n  getCustomer(){\r\n    return this.http.get(environment.urlPHP + 'employee/customer/'+this.userId)\r\n    .map(Response =>\r\n      {return Response}).catch(this.handleErrors);\r\n  }\r\n\r\n  getCustLocation(customer_recnum){\r\n    return this.http.get(environment.urlPHP + 'employee/location/'+this.userId+'/'+customer_recnum)\r\n    .map(Response =>\r\n      {return Response}).catch(this.handleErrors);\r\n  }\r\n  getCustSkills(){\r\n    return this.http.get(environment.urlPHP + 'employee/skills/'+this.userId+'/'+this.emprecnum)\r\n    .map(Response =>\r\n      {return Response}).catch(this.handleErrors);\r\n  }\r\n  getCategories(){\r\n    return this.http.get(environment.urlPHP + 'employee/categorys/'+this.userId)\r\n    .map(Response =>\r\n      {return Response}).catch(this.handleErrors);\r\n  }\r\n  getAllocations(){\r\n    return this.http.get(environment.urlPHP + 'srs/getAllocationlist4user/'+this.userId+'/'+this.emprecnum)\r\n    .map(Response =>\r\n      {return Response}).catch(this.handleErrors);\r\n  }\r\n  deAllocateEmp(data){\r\n    return this.http.post(environment.urlPHP + 'srs/Deallocate', data)\r\n    .map(Response =>\r\n      {return Response}).catch(this.handleErrors);\r\n  }\r\n  getEmpAvailability(){\r\n    return this.http.get(environment.urlPHP + 'employee/EmpUnavailSummary/'+this.userId+'/'+this.emprecnum)\r\n    .map(Response =>\r\n      {return Response}).catch(this.handleErrors);\r\n  }\r\n  addAvailabilty(data){\r\n    return this.http.post(environment.urlPHP + 'employee/insertEmpunAvailtoleave', data)\r\n    .map(Response =>\r\n      {return Response}).catch(this.handleErrors);\r\n  }\r\n\r\n  updateAvailabilty(leaveid){\r\n    return this.http.get(environment.urlPHP + 'employee/updateUnavailEmp/'+this.userId+'/'+leaveid)\r\n    .map(Response =>\r\n      {return Response}).catch(this.handleErrors);\r\n  }\r\n\r\n  private handleErrors (error: Response | any) {\r\n    console.log(error.error.message)\r\n    return Observable.throw(error.error.message || 'backend server error');\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AddavailabilityComponent } from './addavailability/addavailability.component';\r\nimport { AvailabilityComponent } from './availability/availability.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'',\r\n    component: AvailabilityComponent\r\n  },\r\n  {\r\n    path:'',\r\n    component: AvailabilityComponent\r\n  },\r\n  {\r\n    path:'addavail',\r\n    component: AddavailabilityComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class EmployeeRoutingModule { }\r\n","import { NgModule, LOCALE_ID} from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { EmployeeRoutingModule } from './employee-routing.module';\r\nimport { AvailabilityComponent } from './availability/availability.component';\r\nimport { AddavailabilityComponent } from './addavailability/addavailability.component';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgCalendarModule } from 'ionic2-calendar';\r\n\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { registerLocaleData } from '@angular/common';\r\n// import localezh from '@angular/common/locales/zh-Hans';\r\n\r\n// registerLocaleData(localezh);\r\n\r\nexport function createTranslateLoader(http: HttpClient) {\r\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\r\n}\r\n\r\n\r\n@NgModule({\r\n  declarations: [AvailabilityComponent, AddavailabilityComponent],\r\n  imports: [\r\n    CommonModule,\r\n    EmployeeRoutingModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    NgCalendarModule,\r\n    EmployeeRoutingModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: createTranslateLoader,\r\n        deps: [HttpClient]\r\n      }\r\n    })\r\n  ],\r\n  providers: [\r\n    // { provide: LOCALE_ID, useValue: 'zh-Hans' }\r\n  ]\r\n})\r\nexport class EmployeeModule { }\r\n"]}