{"version":3,"sources":["./src/app/folder/leave/leave-summary/leave-summary.component.html","./src/app/folder/leave/leave-routing.module.ts","./src/app/folder/leave/leave-summary/leave-summary.component.scss","./src/app/folder/leave/leave-summary/leave-summary.component.ts","./src/app/folder/leave/leave.module.ts","./src/app/folder/leave/leave.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,gPAAiL,oBAAoB,kdAAkd,aAAa,s0BAAs0B,yBAAyB,0CAA0C,E;;;;;;;;;;;;;;;;;;;ACAnhD;AACc;AACyB;AAGhF,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAC,KAAK;QACV,SAAS,EAAE,4FAAqB;KACjC;CACF,CAAC;AAMF,IAAa,kBAAkB,GAA/B,MAAa,kBAAkB;CAAI;AAAtB,kBAAkB;IAJ9B,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,kBAAkB,CAAI;AAAJ;;;;;;;;;;;;;AChB/B;AAAe,0EAAW,iBAAiB,uBAAuB,sBAAsB,GAAG,UAAU,oBAAoB,GAAG,cAAc,iBAAiB,uBAAuB,GAAG,cAAc,8BAA8B,GAAG,0CAA0C,4BAA4B,GAAG,6CAA6C,kBAAkB,GAAG,UAAU,8CAA8C,iCAAiC,GAAG,6CAA6C,2/DAA2/D,E;;;;;;;;;;;;;;;;;;;;;;;;ACAn6E;AAChB;AAChB;AACf;AACgB;AACG;AAEG;AAOvD,IAAa,qBAAqB,GAAlC,MAAa,qBAAqB;IA+DhC,YAAoB,MAAc,EACf,OAAqB,EACpB,SAA0B,EAC3B,SAA2B,EACP,MAAc;QAJjC,WAAM,GAAN,MAAM,CAAQ;QACf,YAAO,GAAP,OAAO,CAAc;QACpB,cAAS,GAAT,SAAS,CAAiB;QAC3B,cAAS,GAAT,SAAS,CAAkB;QACP,WAAM,GAAN,MAAM,CAAQ;QA/DrD,kBAAa,GAAG,KAAK,CAAC;QAYtB,iBAAY,GAAS,KAAK,CAAC;QAC3B,iBAAY,GAAS,KAAK,CAAC;QAC3B,kCAAkC;QAClC,iBAAY,GAAS,KAAK,CAAC;QAC3B,WAAM,GAAG,EAAE,CAAC;QAGZ,gBAAW,GAAG,EAAE,CAAC;QACjB,gBAAW,GAAG,EAAE,CAAC;QACjB,kBAAa,GAAG,EAAE,CAAC;QAInB,aAAQ,GAAG;YACT,IAAI,EAAE,OAAO;YACb,WAAW,EAAE,IAAI,IAAI,EAAE;SACxB,CAAC;QAEF,UAAK,GAAG;YACN,KAAK,EAAE,eAAe;YACtB,SAAS,EAAE,IAAI;YACf,OAAO,EAAE,EAAE;YACX,MAAM,EAAE,IAAI;SACb,CAAC;QAKF,eAAU,GAAG,KAAK,CAAC;QACnB,kBAAa,GAAS,KAAK,CAAC;QAC5B,oBAAe,GAAS,KAAK,CAAC;QAuBhB,IAAI,CAAC,MAAM,GAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAClD,IAAI,CAAC,cAAc,GAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACxD,IAAG,IAAI,CAAC,cAAc,IAAI,EAAE,IAAI,IAAI,CAAC,cAAc,IAAI,SAAS,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,EAAC;YAC9F,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;SAC1B;aAAI;YACH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC;YAChC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC/B;QACD,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;IAChE,CAAC;IAEb,QAAQ;QACN,IAAI,CAAC,WAAW,GAAC,EAAE,CAAC;QACpB,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAI,mCAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QAC/F,IAAI,CAAC,OAAO,GAAG,mCAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QAEjG,WAAW;QACX,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9E,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1E,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7E,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACrE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACzE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACrE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACrF,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACjF,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACjF,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAE7F,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED,SAAS;QACP,IAAI,CAAC,MAAM,GAAC,EAAE,CAAC;QACf,IAAI,CAAC,aAAa,GAAC,EAAE,CAAC;QACtB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;QAC1D,IAAI,IAAI,GAAG,mCAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QACtD,IAAI,IAAI,GAAG,mCAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QACrD,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,SAAS,CAAC,GAAG,GAAE;YACzD,IAAG,GAAG,CAAC,MAAM,CAAC,EAAC;gBACb,IAAI,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC;gBAC7B,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,GAAG,EAAE,CAAC,EAAE,EAAC;oBACtB,IAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,EAAC;wBAC1D,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;4BACf,KAAK,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM;4BAC5B,SAAS,EAAE,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;4BAC5C,OAAO,EAAE,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;4BACxC,MAAM,EAAE,IAAI;4BACZ,OAAO,EAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;4BACzB,MAAM,EAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM;yBAC7B,CAAC,CAAC;qBACJ;iBACF;gBACD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC;gBACjC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC/B,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;aACzB;QACH,CAAC,EAAC,GAAG,GAAE;YACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC;IACJ,CAAC;IAED,eAAe;QACb,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACzB,CAAC,EAAE,CAAC,CAAC,CAAC;IACR,CAAC;IACA,gCAAgC;IAChC,IAAI;QACH,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED,IAAI;QACF,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED,+CAA+C;IAC/C,kBAAkB,CAAC,KAAK;QACtB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IAEK,cAAc,CAAC,EAAE;;YACrB,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC;YAEjD,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YAC5C,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;YACjC,KAAK,GAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC;YACtB,IAAI,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAC1C,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC;YACxC,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;YAEjD,IAAG,IAAI,CAAC,YAAY,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,MAAM,EAAC;gBAClE,+CAA+C;gBAC/C,gDAAgD;gBAChD,yEAAyE;gBACzE,gEAAgE;gBAChE,wCAAwC;gBACxC,2EAA2E;gBAC3E,kCAAkC;gBAClC,gDAAgD;gBAChD,4BAA4B;gBAC5B,6BAA6B;gBAC7B,mBAAmB;gBACnB,YAAY;gBACZ,8BAA8B;gBAC9B,4BAA4B;gBAC5B,6BAA6B;gBAC7B,uCAAuC;gBACvC,cAAc;gBACd,YAAY;gBACZ,UAAU;gBACV,UAAU;gBACV,uBAAuB;gBACvB,MAAM;gBACN,IAAI;gBACJ,+BAA+B;gBAE/B,0DAA0D;gBAC1D,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;oBAC1C,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;oBACpD,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;oBAChD,IAAG,KAAK,KAAK,KAAK,EAAC;wBACjB,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;wBAC5C,IAAI,CAAC,aAAa,GAAC,IAAI,CAAC;wBACxB,IAAI,CAAC,YAAY,GAAC,IAAI,CAAC;wBACvB,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;qBACzB;iBACF;gBAED,IAAG,IAAI,CAAC,YAAY,EAAC;oBACnB,4DAA4D;oBAC5D,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;wBAC1C,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;wBACzD,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;wBAChD,IAAG,CAAC,KAAK,KAAK,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,IAAE,EAAE,CAAC,EAAC;4BACtD,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;4BAC5C,IAAI,CAAC,aAAa,GAAC,IAAI,CAAC;4BACxB,IAAI,CAAC,YAAY,GAAC,IAAI,CAAC;4BACvB,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;yBACzB;qBACF;iBACF;gBACD,wBAAwB;gBAExB,yDAAyD;gBACzD,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;oBAC5C,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;oBAC3D,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;oBAChD,IAAG,KAAK,KAAK,KAAK,EAAC;wBACjB,IAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,IAAE,CAAC,IAAI,CAAC,eAAe,IAAE,KAAK,CAAC,EAAC;4BACpE,IAAI,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gCACtC,MAAM,EAAE,IAAI,CAAC,WAAW;gCACxB,SAAS,EAAC,IAAI,CAAC,SAAS;gCACxB,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,YAAY,EAAE;gCACvD,OAAO,EAAE;oCACP;wCACE,IAAI,EAAE,IAAI,CAAC,KAAK;wCAChB,IAAI,EAAE,QAAQ;wCACd,OAAO,EAAE,GAAG,EAAE;wCACd,CAAC;qCACF;oCACD;wCACE,IAAI,EAAE,IAAI,CAAC,WAAW;wCACtB,OAAO,EAAE,IAAI,CAAC,EAAE;4CACd,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,GAAG,GAAE;gDACrE,IAAG,GAAG,CAAC,MAAM,CAAC,IAAI,SAAS,EAAC;oDAC1B,IAAI,CAAC,SAAS,EAAE,CAAC;iDAClB;4CACH,CAAC,EAAC,GAAG,GAAE;gDACL,mBAAmB;4CACrB,CAAC,CAAC,CAAC;4CACH,IAAI,CAAC,YAAY,GAAC,KAAK,CAAC;wCAC1B,CAAC;qCACF;iCACF;6BACF,CAAC,CAAC;4BACH,KAAK,CAAC,OAAO,EAAE,CAAC;yBACjB;wBACD,IAAI,CAAC,eAAe,GAAC,IAAI,CAAC;qBAC3B;iBACF;gBACD,4BAA4B;gBAC5B,IAAG,CAAC,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,eAAe,IAAE,KAAK,CAAC,EAAC;oBACtD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;wBACf,KAAK,EAAE,EAAE;wBACT,SAAS,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;wBACzC,OAAO,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;wBACvC,MAAM,EAAE,IAAI;wBACZ,OAAO,EAAC,IAAI;wBACZ,MAAM,EAAC,CAAC;qBACT,CAAC,CAAC;oBAEH,IAAI,CAAC,SAAS,GAAC;wBACb,KAAK,EAAC,IAAI,CAAC,SAAS;wBACpB,QAAQ,EAAC,EAAE;wBACX,MAAM,EAAC,IAAI;wBACX,MAAM,EAAC,CAAC;wBACR,IAAI,EAAC,IAAI,CAAC,KAAK,CAAC,SAAS;wBACzB,MAAM,EAAC,IAAI,CAAC,MAAM;qBACnB;oBACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;oBACtC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC;oBAC/B,IAAI,CAAC,YAAY,GAAC,KAAK,CAAC;oBACxB,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;iBACzB;gBACD,iCAAiC;aAClC;iBAAK;gBACJ,IAAG,IAAI,CAAC,YAAY,IAAI,IAAI,EAAC;oBAC3B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;wBACxC,MAAM,EAAE,IAAI,CAAC,QAAQ;wBACrB,OAAO,EAAE,IAAI,CAAC,aAAa;wBAC3B,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;qBACtB,CAAC,CAAC;oBACH,KAAK,CAAC,OAAO,EAAE,CAAC;iBAEjB;aACF;QACH,CAAC;KAAA;IACD,QAAQ;QACN,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;YAC1C,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,GAAE;gBAC1D,IAAG,GAAG,CAAC,MAAM,CAAC,IAAI,WAAW,EAAC;oBAC5B,IAAI,CAAC,SAAS,EAAE,CAAC;iBAClB;YACH,CAAC,EAAC,GAAG,GAAE;gBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;YAClB,CAAC,CAAC,CAAC;SACJ;QACD,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;QACxB,IAAI,CAAC,WAAW,GAAC,EAAE,CAAC;IACtB,CAAC;IAED,UAAU,CAAC,SAAS;QAChB,IAAI,CAAC,YAAY,GAAC,IAAI,CAAC;QACvB,IAAI,CAAC,YAAY,GAAC,KAAK,CAAC;QACxB,IAAI,CAAC,MAAM,GAAC,SAAS,CAAC;QAEtB,IAAI,CAAC,aAAa,GAAC,KAAK,CAAC;QACzB,+BAA+B;QAC/B,IAAI,CAAC,eAAe,GAAC,KAAK,CAAC;QAC3B,IAAI,CAAC,YAAY,GAAC,KAAK,CAAC;IAC5B,CAAC;IAED,6BAA6B;IACvB,eAAe,CAAC,KAAK;;YACzB,uCAAuC;YACvC,IAAI,KAAK,GAAE,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;YACrC,IAAI,GAAG,GAAC,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;YAEhC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxC,MAAM,EAAE,KAAK,CAAC,KAAK;gBACnB,SAAS,EAAE,KAAK,CAAC,IAAI;gBACrB,OAAO,EAAE,IAAI,CAAC,OAAO,GAAC,IAAI,GAAG,KAAK,GAAG,UAAU,GAAC,IAAI,CAAC,KAAK,GAAC,IAAI,GAAG,GAAG;gBACrE,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;aACtB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;CACF;;YA3Q6B,+DAAM;YACN,2DAAY;YACT,8DAAe;YAChB,oEAAgB;yCACjC,oDAAM,SAAC,uDAAS;;AANC;IAA7B,+DAAS,CAAC,iEAAiB,CAAC;oDAA0B;AA7D5C,qBAAqB;IALjC,+DAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;QAC7B,gQAA6C;;KAE9C,CAAC;IAoEa,qHAAM,CAAC,uDAAS,CAAC;GAnEnB,qBAAqB,CA0UjC;AA1UiC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdkB;AACL;AAEa;AACoB;AACnC;AACqB;AACf;AAEoB;AACN;AACf;AAGlD,0DAA0D;AAE1D,gCAAgC;AAEzB,SAAS,qBAAqB,CAAC,IAAgB;IACpD,OAAO,IAAI,8EAAmB,CAAC,IAAI,EAAE,gBAAgB,EAAE,OAAO,CAAC,CAAC;AAClE,CAAC;AA2BD,IAAa,WAAW,GAAxB,MAAa,WAAW;CAAI;AAAf,WAAW;IAxBvB,8DAAQ,CAAC;QACR,YAAY,EAAE,CAAC,4FAAqB,CAAC;QACrC,OAAO,EAAE;YACP,4DAAY;YACZ,wEAAkB;YAClB,0DAAW;YACX,0DAAW;YACX,kEAAmB;YACnB,gEAAgB;YAChB,mEAAe,CAAC,OAAO,CAAC;gBACtB,MAAM,EAAE;oBACN,OAAO,EAAE,mEAAe;oBACxB,UAAU,EAAE,qBAAqB;oBACjC,IAAI,EAAE,CAAC,gEAAU,CAAC;iBACnB;aACF,CAAC;SACH;QACD,SAAS,EAAE;QACT,KAAK;QACH,uBAAuB;QACvB,uBAAuB;QACzB,IAAI;SACL;KACF,CAAC;GACW,WAAW,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;AC/CmB;AACoB;AAC7B;AACH;AACE;AACE;AACV;AACkC;AAClB;AAMzC,IAAa,YAAY,GAAzB,MAAa,YAAY;IAMtB,YAAoB,IAAgB,EAC3B,OAAgB;QADL,SAAI,GAAJ,IAAI,CAAY;QAC3B,YAAO,GAAP,OAAO,CAAS;QAEtB,IAAI,CAAC,MAAM,GAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAClD,IAAI,CAAC,SAAS,GAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;IAChE,CAAC;IAGF,YAAY,CAAC,MAAM;QACjB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,wEAAW,CAAC,GAAG,GAAG,+BAA+B,GAAG,UAAU,GAAG,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC;aAC9G,GAAG,CAAC,QAAQ,CAAC,EAAE,GACd,OAAO,QAAQ,GAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC/C,CAAC;IAED,UAAU,CAAC,IAAI;QACd,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,wEAAW,CAAC,MAAM,GAAG,uBAAuB,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC;aAC1F,GAAG,CAAC,QAAQ,CAAC,EAAE,GACd,OAAO,QAAQ,GAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC9C,CAAC;IACD,WAAW,CAAC,OAAO;QAClB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,wEAAW,CAAC,MAAM,GAAG,uBAAuB,GAAG,IAAI,CAAC,MAAM,GAAE,GAAG,GAAG,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC;aAChH,GAAG,CAAC,QAAQ,CAAC,EAAE,GACb,OAAO,QAAQ,GAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAE/C,CAAC;IAED,MAAM,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO;QAC9B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,wEAAW,CAAC,MAAM,GAAG,wBAAwB,GAAG,KAAK,GAAE,GAAG,GAAG,QAAQ,GAAE,GAAG,GAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC;aACzH,GAAG,CAAC,QAAQ,CAAC,EAAE,GACb,OAAO,QAAQ,GAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC/C,CAAC;IAGQ,YAAY,CAAE,KAAqB;QACzC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC;QAChC,OAAO,+CAAU,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,IAAI,sBAAsB,CAAC,CAAC;IACzE,CAAC;CACF;;YArC4B,+DAAU;YAClB,sDAAO;;AAPf,YAAY;IAHxB,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,YAAY,CA2CxB;AA3CwB","file":"leave-leave-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar  class=\\\"toolBar\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n        <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{'Leaves'|translate}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content> \\r\\n  <ion-row>\\r\\n    <!-- Move back one screen of the slides -->\\r\\n    <ion-col size=\\\"2\\\">\\r\\n      <ion-button fill=\\\"clear\\\" size=\\\"small\\\" (click)=\\\"back()\\\" class=\\\"iconBtn\\\">\\r\\n        <ion-icon name=\\\"chevron-back-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-col>\\r\\n \\r\\n    <ion-col size=\\\"8\\\" class=\\\"ion-text-center\\\">\\r\\n      <h2 class=\\\"pos\\\">{{ viewTitle }}</h2>\\r\\n    </ion-col>\\r\\n \\r\\n    <!-- Move forward one screen of the slides -->\\r\\n    <ion-col size=\\\"2\\\">\\r\\n      <ion-button fill=\\\"clear\\\" size=\\\"small\\\" (click)=\\\"next()\\\" class=\\\"iconBtn\\\">\\r\\n        <ion-icon name=\\\"chevron-forward-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n \\r\\n  <calendar\\r\\n    [eventSource]=\\\"eventSource\\\"\\r\\n    [calendarMode]=\\\"calendar.mode\\\"\\r\\n    [currentDate]=\\\"calendar.currentDate\\\"\\r\\n    (onTitleChanged)=\\\"onViewTitleChanged($event)\\\"\\r\\n    (onTimeSelected)=\\\"onTimeSelected($event)\\\"\\r\\n    (onEventSelected)=\\\"onEventSelected($event)\\\"\\r\\n    (click)=\\\"applyLeave(calendar.currentDate)\\\"    \\r\\n    id=\\\"cal\\\"\\r\\n  >\\r\\n  </calendar> \\r\\n<br/>\\r\\n  <ion-button color=\\\"primary\\\" (click)=\\\"onSubmit()\\\" class=\\\"leavBtn\\\">\\r\\n    {{'Apply leave'|translate}}\\r\\n  </ion-button>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { LeaveSummaryComponent } from './leave-summary/leave-summary.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'lea',\r\n    component: LeaveSummaryComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LeaveRoutingModule { }\r\n","export default \".btnHome {\\n  color: white;\\n  margin-right: 1rem;\\n  font-size: 1.5rem;\\n}\\n\\n.pos {\\n  margin-top: 8px;\\n}\\n\\n.leavBtn {\\n  float: right;\\n  margin-right: 1rem;\\n}\\n\\n.iconBtn {\\n  background-color: #eaf2fe;\\n}\\n\\n:host ::ng-deep .monthview-container {\\n  height: auto !important;\\n}\\n\\n:host ::ng-deep .event-detail-container {\\n  display: none;\\n}\\n\\n.avl {\\n  color: var(--ion-color-danger) !important;\\n  font-size: 0.5rem !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9sZGVyL2xlYXZlL2xlYXZlLXN1bW1hcnkvQzpcXFVzZXJzXFxtYW51bVxcRG93bmxvYWRzXFxmbHVlbnRjZXBUTVMtbWFzdGVyXFxmbHVlbnRjZXBUTVMvc3JjXFxhcHBcXGZvbGRlclxcbGVhdmVcXGxlYXZlLXN1bW1hcnlcXGxlYXZlLXN1bW1hcnkuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2ZvbGRlci9sZWF2ZS9sZWF2ZS1zdW1tYXJ5L2xlYXZlLXN1bW1hcnkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtBQ0NGOztBRENBO0VBQ0UsZUFBQTtBQ0VGOztBREFBO0VBQ0UsWUFBQTtFQUNBLGtCQUFBO0FDR0Y7O0FEREE7RUFDRSx5QkFBQTtBQ0lGOztBREFJO0VBQ0ksdUJBQUE7QUNHUjs7QURBSTtFQUNJLGFBQUE7QUNFUjs7QURDQTtFQUNFLHlDQUFBO0VBQ0EsNEJBQUE7QUNFRiIsImZpbGUiOiJzcmMvYXBwL2ZvbGRlci9sZWF2ZS9sZWF2ZS1zdW1tYXJ5L2xlYXZlLXN1bW1hcnkuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnRuSG9tZXtcclxuICBjb2xvcjp3aGl0ZTtcclxuICBtYXJnaW4tcmlnaHQ6IDFyZW07XHJcbiAgZm9udC1zaXplOiAxLjVyZW07XHJcbn1cclxuLnBvcyB7XHJcbiAgbWFyZ2luLXRvcDogOHB4O1xyXG59XHJcbi5sZWF2QnRuIHtcclxuICBmbG9hdDogcmlnaHQ7XHJcbiAgbWFyZ2luLXJpZ2h0OiAxcmVtO1xyXG59XHJcbi5pY29uQnRue1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlYWYyZmU7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCB7XHJcbiAgICAubW9udGh2aWV3LWNvbnRhaW5lciB7XHJcbiAgICAgICAgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcbiBcclxuICAgIC5ldmVudC1kZXRhaWwtY29udGFpbmVyIHtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfVxyXG59XHJcbi5hdmwge1xyXG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKSAhaW1wb3J0YW50O1xyXG4gIGZvbnQtc2l6ZTogMC41cmVtICFpbXBvcnRhbnQ7XHJcbn0iLCIuYnRuSG9tZSB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgbWFyZ2luLXJpZ2h0OiAxcmVtO1xuICBmb250LXNpemU6IDEuNXJlbTtcbn1cblxuLnBvcyB7XG4gIG1hcmdpbi10b3A6IDhweDtcbn1cblxuLmxlYXZCdG4ge1xuICBmbG9hdDogcmlnaHQ7XG4gIG1hcmdpbi1yaWdodDogMXJlbTtcbn1cblxuLmljb25CdG4ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWFmMmZlO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLm1vbnRodmlldy1jb250YWluZXIge1xuICBoZWlnaHQ6IGF1dG8gIWltcG9ydGFudDtcbn1cbjpob3N0IDo6bmctZGVlcCAuZXZlbnQtZGV0YWlsLWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5hdmwge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcikgIWltcG9ydGFudDtcbiAgZm9udC1zaXplOiAwLjVyZW0gIWltcG9ydGFudDtcbn0iXX0= */\";","import { Component, Inject, LOCALE_ID, OnInit, ViewChild } from '@angular/core';\r\nimport { SQLite, SQLiteObject } from '@ionic-native/sqlite/ngx'; \r\nimport { LeaveService } from '../leave.service';\r\nimport * as moment from 'moment'; \r\nimport { AlertController } from '@ionic/angular';\r\nimport { CalendarComponent } from 'ionic2-calendar';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-leave-summary',\r\n  templateUrl: './leave-summary.component.html',\r\n  styleUrls: ['./leave-summary.component.scss'],\r\n})\r\nexport class LeaveSummaryComponent implements OnInit {\r\n  lang:any;\r\n  locStorageLang:any;\r\n\r\n  enableRequest = false;\r\n  private database: SQLite;\r\n  conObj: SQLiteObject;\r\n  dbObj: SQLiteObject;\r\n  empId: any;\r\n  leaveList: any;\r\n  reason: any;\r\n  endDate: any;\r\n  startDate: any;\r\n  firstDay: any;\r\n  lastDay: any;\r\n  emprecnum:any;\r\n  leaveRequest:boolean=false;\r\n  leaveApplied:boolean=false;\r\n  // consecutiveLeave:boolean=false;\r\n  remFrmSrcArr:boolean=false;\r\n  events = [];\r\n  currDt:any;\r\n\r\n  eventSource = [];\r\n  leaveSource = [];\r\n  dbEventSource = [];\r\n  viewTitle: string;\r\n  siteId:any;\r\n \r\n  calendar = {\r\n    mode: 'month',\r\n    currentDate: new Date(),\r\n  };\r\n\r\n  event = {\r\n    title: 'Leave Applied',\r\n    startTime: null,\r\n    endTime: '',\r\n    allDay: true\r\n  };\r\n\r\n  leaveData:any;\r\n\r\n  selectedDate: Date;\r\n  modalReady = false;\r\n  remSelectedDt:boolean=false;\r\n  remBackendSelDt:boolean=false;\r\n\r\n  // translated values\r\n  cancelLbl:any;\r\n  cancelLeave:any;\r\n  cancelMsg:any;\r\n  NALbl:any;\r\n  NAmsg:any;\r\n  okLbl:any;\r\n  fromLbl:any;\r\n  toLbl:any;\r\n  NAprevdt:any;\r\n  greaterDayMsg:any;\r\n\r\n\r\n  @ViewChild(CalendarComponent) myCal: CalendarComponent;\r\n\r\n  constructor(private sqlite: SQLite,\r\n              public leavSer: LeaveService,\r\n              private alertCtrl: AlertController,\r\n              public translate: TranslateService,\r\n              @Inject(LOCALE_ID) private locale: string,) \r\n              { \r\n                this.siteId=window.localStorage.getItem('siteId');\r\n                this.locStorageLang=window.localStorage.getItem('lang');\r\n                if(this.locStorageLang == '' || this.locStorageLang == undefined || this.locStorageLang == null){\r\n                  this.lang = 'en';\r\n                  this.translate.setDefaultLang('en');\r\n                  this.translate.use('en');\r\n                }else{\r\n                  this.lang = this.locStorageLang;\r\n                  this.translate.use(this.lang);\r\n                }\r\n                this.emprecnum = window.localStorage.getItem('user2employee');\r\n              }\r\n\r\n  ngOnInit() {\r\n    this.leaveSource=[];\r\n    let date = new Date(); \r\n    this.firstDay =  moment(new Date(date.getFullYear(), date.getMonth(), 1)).format('YYYY-MM-DD'); \r\n    this.lastDay = moment(new Date(date.getFullYear(), date.getMonth() + 1, 0)).format('YYYY-MM-DD'); \r\n\r\n    // language\r\n    this.translate.get('Not Allowed').subscribe(value => { this.NALbl = value; });\r\n    this.translate.get('NALeave').subscribe(value => { this.NAmsg = value; });\r\n    this.translate.get('Cancel').subscribe(value => { this.cancelLbl = value; });\r\n    this.translate.get('Ok').subscribe(value => { this.okLbl = value; });\r\n    this.translate.get('From').subscribe(value => { this.fromLbl = value; });\r\n    this.translate.get('To').subscribe(value => { this.toLbl = value; });\r\n    this.translate.get('Cancel Leave').subscribe(value => { this.cancelLeave = value; });\r\n    this.translate.get('Cancel Msg').subscribe(value => { this.cancelMsg = value; });\r\n    this.translate.get('Not Allowed').subscribe(value => { this.NAprevdt = value; });\r\n    this.translate.get('Greater than today').subscribe(value => { this.greaterDayMsg = value; });\r\n\r\n    this.getLeaves();\r\n  }\r\n\r\n  getLeaves() {\r\n    this.events=[];\r\n    this.dbEventSource=[];\r\n    this.empId = window.localStorage.getItem('user2employee');\r\n    let fDay = moment(this.firstDay).format('YYYY-MM-DD'); \r\n    let lDay = moment(this.lastDay).format('YYYY-MM-DD'); \r\n    this.leavSer.leaves(this.empId, fDay, lDay).subscribe(res=>{\r\n      if(res['data']){\r\n        let len = res['data'].length;\r\n        for(let i=0; i<len; i++){\r\n          if(res['data'][i].status == 1 || res['data'][i].status == 0){\r\n            this.events.push({\r\n              title: res['data'][i].status,\r\n              startTime: new Date(res['data'][i].fromdate),\r\n              endTime: new Date(res['data'][i].todate),\r\n              allDay: true,\r\n              leaveid:res['data'][i].id,\r\n              status:res['data'][i].status\r\n            });\r\n          }\r\n        }\r\n        this.dbEventSource = this.events;\r\n        this.eventSource = this.events;\r\n        this.myCal.loadEvents();\r\n      }\r\n    },err=>{\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    setTimeout(() => {\r\n      this.modalReady = true;    \r\n    }, 0);\r\n  }\r\n   // Change current month/week/day\r\n   next() {\r\n    this.myCal.slideNext();\r\n    this.getLeaves();\r\n  }\r\n \r\n  back() {\r\n    this.myCal.slidePrev();\r\n    this.getLeaves();\r\n  }\r\n \r\n  // Selected date reange and hence title changed\r\n  onViewTitleChanged(title) {\r\n    this.viewTitle = title;\r\n  }\r\n  \r\n  async onTimeSelected(ev) {   \r\n    this.event.startTime = new Date(ev.selectedTime);\r\n\r\n    let dt = this.event.startTime.toISOString();\r\n    let endDt = this.event.startTime;\r\n    endDt=new Date(endDt);\r\n    let nwdt = endDt.setDate(endDt.getDate());\r\n    let todt = new Date(nwdt).toISOString();\r\n    let dt_str = this.event.startTime.toDateString();\r\n\r\n    if(this.leaveRequest == true && this.event.startTime >= this.currDt){\r\n      //To avoid applying leaves on consecutive days.\r\n      // for(let i=0; i<this.eventSource.length; i++){\r\n      //   let d1 = moment(this.eventSource[i].startTime.toLocaleDateString());\r\n      //   let d2 = moment(this.event.startTime.toLocaleDateString());\r\n      //   let diffDays = d2.diff(d1, 'days');\r\n      //   if((diffDays == 1 || diffDays == -1) && this.consecutiveLeave==false){\r\n      //     this.consecutiveLeave=true;\r\n      //     let alert = await this.alertCtrl.create({\r\n      //       header: this.NALbl,\r\n      //       message: this.NAmsg,\r\n      //       buttons: [\r\n      //         {\r\n      //           text: this.okLbl,\r\n      //           role: 'cancel',\r\n      //           handler: () => {\r\n      //             this.leaveRequest=false;\r\n      //           }\r\n      //         }\r\n      //       ]\r\n      //     });\r\n      //     alert.present();\r\n      //   }\r\n      // }\r\n      //end of consecutive day leaves\r\n\r\n      // to remove from source array which is for insert purpose\r\n      for(let i=0; i<this.leaveSource.length; i++){\r\n        let newDt = this.leaveSource[i].date.toDateString();\r\n        let selDt = this.event.startTime.toDateString();\r\n        if(newDt === selDt){\r\n          var removed = this.leaveSource.splice(i, 1); \r\n          this.remSelectedDt=true;\r\n          this.remFrmSrcArr=true;  \r\n          this.myCal.loadEvents();\r\n        }\r\n      }\r\n\r\n      if(this.remFrmSrcArr){\r\n        // to remove from main src array which is for insert purpose\r\n        for(let i=0; i<this.eventSource.length; i++){\r\n          let newDt = this.eventSource[i].startTime.toDateString();\r\n          let selDt = this.event.startTime.toDateString();\r\n          if((newDt === selDt) && (this.eventSource[i].title==12)){\r\n            let removed = this.eventSource.splice(i, 1); \r\n            this.remSelectedDt=true;\r\n            this.remFrmSrcArr=true;            \r\n            this.myCal.loadEvents();\r\n          }\r\n        }\r\n      }\r\n      // end of selected array\r\n\r\n      // to remove from dbEventsource(leaves list from backend)\r\n      for(let i=0; i<this.dbEventSource.length; i++){\r\n        let newDt = this.dbEventSource[i].startTime.toDateString();\r\n        let selDt = this.event.startTime.toDateString();\r\n        if(newDt === selDt){\r\n          if((this.dbEventSource[i].status == 0)&&(this.remBackendSelDt==false)){\r\n            let alert = await this.alertCtrl.create({\r\n              header: this.cancelLeave,\r\n              subHeader:this.cancelMsg,\r\n              message: this.dbEventSource[i].startTime.toDateString(),\r\n              buttons: [\r\n                {\r\n                  text: this.okLbl,\r\n                  role: 'cancel',\r\n                  handler: () => {\r\n                  }\r\n                },\r\n                {\r\n                  text: this.cancelLeave,\r\n                  handler: data => {\r\n                    this.leavSer.updateLeave(this.dbEventSource[i].leaveid).subscribe(res=>{\r\n                      if(res['data'] == 'Success'){\r\n                        this.getLeaves();\r\n                      }\r\n                    },err=>{\r\n                      // console.log(err)\r\n                    });  \r\n                    this.leaveRequest=false; \r\n                  }\r\n                }\r\n              ]\r\n            });\r\n            alert.present();\r\n          }\r\n          this.remBackendSelDt=true;\r\n        }\r\n      }\r\n      // && !this.consecutiveLeave\r\n      if(!this.remSelectedDt && (this.remBackendSelDt==false)){\r\n        this.events.push({\r\n          title: 12,\r\n          startTime: new Date(this.event.startTime),\r\n          endTime: new Date(this.event.startTime),\r\n          allDay: true,\r\n          leaveid:null,\r\n          status:0\r\n        });\r\n  \r\n        this.leaveData={\r\n          EmpId:this.emprecnum,\r\n          FromDate:dt,\r\n          ToDate:todt,\r\n          Status:0,\r\n          date:this.event.startTime,\r\n          siteid:this.siteId\r\n        }\r\n        this.leaveSource.push(this.leaveData);\r\n        this.eventSource = this.events;\r\n        this.leaveRequest=false;\r\n        this.myCal.loadEvents();\r\n      }\r\n      // console.log(this.leaveSource);\r\n    }else {\r\n      if(this.leaveRequest == true){\r\n        const alert = await this.alertCtrl.create({\r\n          header: this.NAprevdt,\r\n          message: this.greaterDayMsg ,\r\n          buttons: [this.okLbl],\r\n        });\r\n        alert.present();\r\n  \r\n      }\r\n    }\r\n  }\r\n  onSubmit(){\r\n    for(let i=0; i<this.leaveSource.length; i++){\r\n      this.leavSer.applyLeave(this.leaveSource[i]).subscribe(res=>{\r\n        if(res['data'] == \"requested\"){\r\n          this.getLeaves();\r\n        }\r\n      },err=>{\r\n        console.log(err)\r\n      });\r\n    }\r\n    this.myCal.loadEvents();\r\n    this.leaveSource=[];\r\n  }\r\n\r\n  applyLeave(currentDt){\r\n      this.leaveRequest=true;\r\n      this.leaveApplied=false;\r\n      this.currDt=currentDt;\r\n\r\n      this.remSelectedDt=false;\r\n      // this.consecutiveLeave=false;\r\n      this.remBackendSelDt=false;\r\n      this.remFrmSrcArr=false; \r\n  }\r\n\r\n  // Calendar event was clicked\r\n  async onEventSelected(event) {\r\n    // Use Angular date pipe for conversion\r\n    let start= new Date(event.startTime);\r\n    let end=new Date(event.endTime);\r\n \r\n    const alert = await this.alertCtrl.create({\r\n      header: event.title,\r\n      subHeader: event.desc,\r\n      message: this.fromLbl+': ' + start + '<br><br>'+this.toLbl+': ' + end,\r\n      buttons: [this.okLbl],\r\n    });\r\n    alert.present();\r\n  }  \r\n}","import { LOCALE_ID, NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { LeaveRoutingModule } from './leave-routing.module';\r\nimport { LeaveSummaryComponent } from './leave-summary/leave-summary.component';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgCalendarModule } from 'ionic2-calendar';\r\n\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { registerLocaleData } from '@angular/common';\r\n// import localeZh from '@angular/common/locales/zh-Hans';\r\n\r\n// registerLocaleData(localeZh);\r\n\r\nexport function createTranslateLoader(http: HttpClient) {\r\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\r\n}\r\n\r\n\r\n@NgModule({\r\n  declarations: [LeaveSummaryComponent],\r\n  imports: [\r\n    CommonModule,\r\n    LeaveRoutingModule,\r\n    IonicModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgCalendarModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: createTranslateLoader,\r\n        deps: [HttpClient]\r\n      }\r\n    })\r\n  ],\r\n  providers: [\r\n    // { \r\n      // provide: LOCALE_ID, \r\n      // useValue: 'zh-Hans' \r\n    // }\r\n  ]\r\n})\r\nexport class LeaveModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport 'rxjs/add/operator/map'; \r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/observable/throw';\r\nimport 'rxjs/Observable';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LeaveService {\r\n  token: string;\r\n  userId:any;\r\n  emprecnum:any;\r\n  httpOptions: { headers: HttpHeaders; };\r\n\r\n   constructor(private http: HttpClient,\r\n    private storage: Storage,\r\n    ) {\r\n      this.userId=window.localStorage.getItem('userId');\r\n      this.emprecnum=window.localStorage.getItem('user2employee');\r\n  }\r\n\r\n\r\n leaveSummary(userId){\r\n   return this.http.get(environment.url + 'attendance/getmyleaverequests' + '?userid=' + userId, this.httpOptions)\r\n   .map(Response =>\r\n    {return Response}).catch(this.handleErrors);\r\n }\r\n\r\n applyLeave(data){\r\n  return this.http.post(environment.urlPHP + 'attendance/applyleave', data, this.httpOptions)\r\n  .map(Response =>\r\n   {return Response}).catch(this.handleErrors);\r\n }\r\n updateLeave(leaveid){\r\n  return this.http.get(environment.urlPHP + 'employee/updateLeave/' + this.userId +'/' + leaveid, this.httpOptions)\r\n  .map(Response =>\r\n    {return Response}).catch(this.handleErrors);\r\n\r\n }\r\n\r\n leaves(empId, firstDay, lastDay){\r\n  return this.http.get(environment.urlPHP + 'attendance/get_leaves/' + empId +'/' + firstDay+ '/'+lastDay, this.httpOptions)\r\n  .map(Response =>\r\n    {return Response}).catch(this.handleErrors);\r\n }\r\n \r\n\r\n  private handleErrors (error: Response | any) {\r\n    console.log(error.error.message)\r\n    return Observable.throw(error.error.message || 'backend server error');\r\n  }\r\n}\r\n\r\n"],"sourceRoot":"webpack:///"}